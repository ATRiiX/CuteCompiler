<!DOCTYPE html>
<html lang="en">

</html>

<head>
    <meta charset="UTF-8">
    <title>图</title>
    <style type="text/css">
        body {
            font-size: 14px;
            margin: 0;
        }

        div {
            width: auto;
            height: auto;
            line-height: 150%;
        }

        ul {
            list-style: none;
            margin-left: -20px;
        }

        ul li:hover {
            background-color: #DDDDDD;
            color: #FF0000;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <input type="button" id="btn" value="刷新">
    <div id="continer"></div>
</body>

</html>
<script language="javascript" src="jquery.min.js"></script>
<script language="javascript">
    function createTree(jsons, pid) {
        //console.log(jsons)
        if (jsons != null) {
            var ul = '<ul class="">';
            if (jsons.children != null) {
                for (var i = 0; i < jsons.children.length; i++) {
                    ul += '<li>' + jsons.children[i].name + "</li>";
                    ul += createTree(jsons.children[i]);
                }
            }
            ul += "</ul>";
        }
        return ul;
    }

    $(function () {
        $("#btn").click(function () {
            $('continer').setHTML = '';
            $.getJSON("./A_tree.json", function (jsonData) {
                $(function () {
                    console.log(jsonData)
                    var ul = createTree(jsonData, 0);
                    $("#continer").append(ul);
                });
            })

            $("ul[class] li").each(function () {
                $(this).click(function () {
                    $(this).next().toggle();
                });
            });

        })
    })

</script>